<form class="flex {{cssClasses}}" autocomplete="off">

    <nav class="sheet-navigation tabs" data-group="primary">
        <a class="item active" data-tab="mainsettings">{{localize "ITEM-PILES.Defaults.Main.Title"}}</a>
        <a class="item" data-tab="singleitem">{{localize "ITEM-PILES.Defaults.SingleItem.Title"}}</a>
        <a class="item" data-tab="container">{{localize "ITEM-PILES.Defaults.Container.Title"}}</a>
    </nav>

    <hr/>

    <section class="tab-body">

        <div class="tab mainsettings flex" data-group="primary" data-tab="mainsettings">

            <div class="form-group">
                <label>
                    {{localize "ITEM-PILES.Defaults.Main.EnabledPile"}}<br>
                    <p>{{localize "ITEM-PILES.Defaults.Main.EnabledPileExplanation"}}</p>
                </label>
                <input type="checkbox" name="enabled" {{checked flagData.enabled}}/>
            </div>

            <div class="form-group">
                <label style="flex:4;">
                    {{localize "ITEM-PILES.Defaults.Main.Distance"}}<br>
                    <p>{{localize "ITEM-PILES.Defaults.Main.GridUnits"}}</p>
                </label>
                <input style="flex:4;" type="number" placeholder="Infinity" name="distance" value="{{flagData.distance}}"/>
            </div>

            <div class="form-group">
                <label>
                    {{localize "ITEM-PILES.Defaults.Main.InspectItems"}}<br>
                    <p>{{localize "ITEM-PILES.Defaults.Main.InspectItemsExplanation"}}</p>
                </label>
                <input type="checkbox" name="canInspectItems" {{checked flagData.canInspectItems}}/>
            </div>

            <div class="form-group">
                <label style="flex:4;">
                    {{localize "ITEM-PILES.Defaults.Main.DeleteWhenEmpty"}}<br>
                    <p >{{localize "ITEM-PILES.Defaults.Main.DeleteWhenEmptyExplanation"}}</p>
                </label>
                <select style="flex:4;" name="deleteWhenEmpty">
                    {{#select flagData.deleteWhenEmpty}}
                    <option value="default">{{localize "ITEM-PILES.Defaults.Main.DeleteWhenEmptyDefault"}}</option>
                    <option value="true">{{localize "ITEM-PILES.Defaults.Main.DeleteWhenEmptyYes"}}</option>
                    <option value="false">{{localize "ITEM-PILES.Defaults.Main.DeleteWhenEmptyNo"}}</option>
                    {{/select}}
                </select>
            </div>

            <div class="form-group">
                <label style="flex:4;">
                    {{localize "ITEM-PILES.Defaults.Main.Macro"}}<br>
                    <p>{{localize "ITEM-PILES.Defaults.Main.MacroExplanation"}}</p>
                </label>
                <input style="flex:4;" type="text" placeholder="{{MacroPlaceholder}}" name="macro" value="{{flagData.macro}}"/>
            </div>

            <div class="form-group">
                <label style="flex:4;">
                    {{localize "ITEM-PILES.Defaults.Main.OverrideAttributes"}}<br>
                    <p>{{localize "ITEM-PILES.Defaults.Main.OverrideAttributesExplanation"}}</p>
                </label><br>
                <input type="checkbox" class="item-pile-config-override-attributes-checkbox" {{checked flagData.overrideAttributes}}/>
            </div>

            <div class="form-group">
                <button type="button" class="item-pile-config-configure-override-attributes" {{#unless flagData.overrideAttributes}} disabled {{/unless}} style="flex:4;">{{localize "ITEM-PILES.Defaults.Main.ConfigureOverrideAttributes"}}</button>
            </div>

            <div class="form-group">
                <label style="flex:4;">
                    {{localize "ITEM-PILES.Defaults.Main.OverrideItemFilters"}}<br>
                    <p>{{localize "ITEM-PILES.Defaults.Main.OverrideItemFiltersExplanation"}}</p>
                </label><br>
                <input type="checkbox" class="item-pile-config-override-item-filters-checkbox" {{checked flagData.overrideItemFilters}}/>
            </div>

            <div class="form-group">
                <button type="button" class="item-pile-config-configure-override-item-filters" {{#unless flagData.overrideItemFilters}} disabled {{/unless}} style="flex:4;">{{localize "ITEM-PILES.Defaults.Main.ConfigureOverrideItemFilters"}}</button>
            </div>

        </div>

        <div class="tab singleitem flex" data-group="primary" data-tab="singleitem">

            <strong class="display-one-warning" style="display:none;">{{localize "ITEM-PILES.Defaults.SingleItem.DisplayOneContainerWarning"}}</strong>

            <div class="form-group">
                <label>
                    {{localize "ITEM-PILES.Defaults.SingleItem.DisplayOne"}}<br>
                    <p>{{localize "ITEM-PILES.Defaults.SingleItem.DisplayOneExplanation"}}</p>
                </label>
                <input type="checkbox" name="displayOne" {{checked flagData.displayOne}}/>
            </div>

            <div class="item-pile-display-one-settings">

                <div class="form-group">
                    <label>
                        {{localize "ITEM-PILES.Defaults.SingleItem.OverrideScale"}}<br>
                    </label>
                    <input type="checkbox" name="overrideSingleItemScale" {{checked flagData.overrideSingleItemScale}}/>
                </div>

                <div class="form-group">
                    <label style="flex:3;">
                        {{localize "ITEM-PILES.Defaults.SingleItem.Scale"}}<br>
                    </label>
                    <input style="flex:3;" type="range" min="0.2" step="0.1" max="3" class="item-piles-scaleRange" name="singleItemScale" value="{{flagData.singleItemScale}}"/>
                    <input style="flex:0.5; margin-left:1rem;" type="number" step="0.1" class="item-piles-scaleInput" value="{{flagData.singleItemScale}}"/>
                </div>

            </div>

        </div>

        <div class="tab container flex" data-group="primary" data-tab="container">

            <div class="form-group">
                <label>{{localize "ITEM-PILES.Defaults.Container.IsContainer"}}</label>
                <input type="checkbox" name="isContainer" {{checked flagData.isContainer}}/>
            </div>

            <div class="item-pile-container-settings">

                <div class="form-group item-pile-container-setting">
                    <label>{{localize "ITEM-PILES.Defaults.Container.Closed"}}</label>
                    <input type="checkbox" class="container-input" name="closed" {{checked flagData.closed}}/>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.Locked"}}</label>
                    <input type="checkbox" class="container-input" name="locked" {{checked flagData.locked}}/>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.ClosedImagePath"}}</label>
                    <div class="form-fields">
                        {{filePicker target="closedImage" type="imagevideo"}}
                        <input class="image container-input" type="text" name="closedImage" placeholder="path/image.png" value="{{flagData.closedImage}}"/>
                    </div>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.OpenedImagePath"}}</label>
                    <div class="form-fields">
                        {{filePicker target="openedImage" type="imagevideo"}}
                        <input class="image container-input" type="text" name="openedImage" placeholder="path/image.png" value="{{flagData.openedImage}}"/>
                    </div>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.EmptyImagePath"}}</label>
                    <div class="form-fields">
                        {{filePicker target="emptyImage" type="imagevideo"}}
                        <input class="image container-input" type="text" name="emptyImage" placeholder="path/image.png" value="{{flagData.emptyImage}}"/>
                    </div>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.LockedImagePath"}}</label>
                    <div class="form-fields">
                        {{filePicker target="lockedImage" type="imagevideo"}}
                        <input class="image container-input" type="text" name="lockedImage" placeholder="path/image.png" value="{{flagData.lockedImage}}"/>
                    </div>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.CloseSoundPath"}}</label>
                    <div class="form-fields">
                        {{filePicker target="closeSound" type="audio"}}
                        <input class="sound container-input" type="text" name="closeSound" placeholder="path/sound.wav" value="{{flagData.closeSound}}"/>
                    </div>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.OpenSoundPath"}}</label>
                    <div class="form-fields">
                        {{filePicker target="openSound" type="audio"}}
                        <input class="sound container-input" type="text" name="openSound" placeholder="path/sound.wav" value="{{flagData.openSound}}"/>
                    </div>
                </div>

                <div class="form-group">
                    <label>{{localize "ITEM-PILES.Defaults.Container.LockedSoundPath"}}</label>
                    <div class="form-fields">
                        {{filePicker target="lockedSound" type="audio"}}
                        <input class="sound container-input" type="text" name="lockedSound" placeholder="path/sound.wav" value="{{flagData.lockedSound}}"/>
                    </div>
                </div>
            </div>

        </div>

    </section>

    <hr style="margin-top: 1rem;">

    <footer class="sheet-footer flexrow" style="margin-top: 1rem;">
        <button type="submit" name="submit" value="1"><i class="far fa-save"></i> {{localize "ITEM-PILES.Defaults.Update"}}</button>
    </footer>

</form>
